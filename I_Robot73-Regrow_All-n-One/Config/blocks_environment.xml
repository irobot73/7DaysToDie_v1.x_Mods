<?xml version="1.0" encoding="utf-8"?>

<!-- Sort KEY:

    - Masters   001-099
    - Variants  100-199
    - Helpers   200-399
    - Spawners  400-799
    - 
-->

<blocks>

    <!-- MASTER blocks -->
    <insertAfter xpath="/blocks/block[@name='decoEntityGlassMaster']">

        <!-- Grass\Respawner [This master controls all the blocks that it 'Extends' from]
                - If 'FertileLevel' is higher than the fertile_level of the block directly below then the upgrade will not occur.
                - Set 'GrowthRate' time below.  EX:  Given 2 Days at 60-min days, use '120' [using '0.2' for testing seems to work well]
                - Set the 'Drop event=Havest|Destroy' items and probabilities to your liking.
         -->
        <block name="rbtTreeGrassRandomMaster">
            <property name="Class" value="PlantGrowing"/>
            <property name="CreativeMode" value="None"/>
            <property name="HarvestOverdamage" value="false"/>
            <property name="CustomIcon" value="treeBrownGrassDiagonal"/>
            <property name="DescriptionKey" value="rbtTreeGrassRandomMasterDesc"/>
            <property name="Material" value="Mtallgrass"/>
            <property name="Shape" value="Grass"/>
            <property name="Mesh" value="grass"/>
            <property name="Texture" value="350,368,369,370,350,368"/>
            <property name="ImposterDontBlock" value="true"/>
            <property name="WaterFlow" value="permitted"/>
            <property name="Collide" value="melee"/>
            <property name="IsTerrainDecoration" value="true"/>
            <property name="IsDecoration" value="true"/>
            <property name="CanDecorateOnSlopes" value="true"/>
            <property name="StabilitySupport" value="false"/>
            <property name="PassThroughDamage" value="false"/>
            <property name="PlaceAsRandomRotation" value="true"/>
            <property name="OnlySimpleRotations" value="true"/>
            <property name="PlantGrowing.GrowthRate" value="0.2"/>
            <property name="PlantGrowing.FertileLevel" value="0"/>
            <property name="PlantGrowing.Next" value="rbtAllTreesRandomHelper"/>
            <property name="CanPlayersSpawnOn" value="false"/>
            <property name="CanMobsSpawnOn" value="false"/>
            <property name="MaxDamage" value="100"/>
            <drop event="Harvest" name="resourceYuccaFibers" count="2" tag="allHarvest"/>
            <drop event="Destroy" count="0"/>
            <drop event="Fall" name="resourceYuccaFibers" count="0" prob="1" stick_chance="0"/>
            <property name="SortOrder1" value="R001"/>
            <property name="SortOrder2" value="9001"/>
        </block>

        <!-- Boulder\Respawner [This master controls all the blocks that it 'Extends' from]
                - Set 'GrowthRate' time below.  EX:  Given 2 Days at 60-min days, use '120' [using '0.2' for testing seems to work well]
         -->
        <block name="rbtBoulderRandomMaster">
            <property name="Class" value="PlantGrowing"/>
            <property name="CreativeMode" value="None"/>
            <property name="HarvestOverdamage" value="false"/>
            <property name="CustomIcon" value="rock01"/>
            <property name="DescriptionKey" value="rbtBoulderRandomMasterDesc"/>
            <property name="Material" value="Mstone"/>
            <property name="Shape" value="ModelEntity"/>
            <property name="Model" value="Entities/OutdoorDecor/stoneAPrefab"/>
            <property name="ImposterDontBlock" value="true"/>
            <property name="WaterFlow" value="permitted"/>
            <property name="Collide" value="melee,bullet,arrow,rocket"/>
            <property name="IsTerrainDecoration" value="true"/>
            <property name="CanDecorateOnSlopes" value="true"/>
            <property name="StabilitySupport" value="false"/>
            <property name="PassThroughDamage" value="false"/>
            <property name="PlaceAsRandomRotation" value="true"/>
            <property name="OnlySimpleRotations" value="true"/>
            <property name="PlantGrowing.GrowthRate" value="0.2"/>
            <property name="PlantGrowing.FertileLevel" value="0"/>
            <property name="PlantGrowing.Next" value="rbtAllRockSlabsRandomHelper"/>
            <property name="CanPlayersSpawnOn" value="false"/>
            <property name="CanMobsSpawnOn" value="false"/>
            <property name="MaxDamage" value="100"/>
            <property name="CanPickup" value="true" param1="resourceRockSmall"/>
            <drop event="Destroy" name="resourceRockSmall" count="1"/>
            <property name="SortOrder1" value="R201"/>
            <property name="SortOrder2" value="9201"/>
        </block>

    </insertAfter>

<!-- Insert the new, custom BLOCKS before any usage -->

<!-- *** Helpers -->

    <!-- Boulder Helper -->
    <insertAfter xpath="/blocks/block[@name='oreShaleBoulder']">

        <!-- Helper that will pick a random boulder for a respawn [REF:  'BLOCKPLACEHOLDERS.XML'] -->
        <block name="rbtAllRockSlabsRandomHelper">
            <property name="Extends" value="rock01"/>
            <property name="CreativeMode" value="Player"/>
            <property name="CustomIcon" value="rock04"/>
            <property name="CustomIconTint" value="9caf88"/>
            <property name="DescriptionKey" value="rbtAllRockSlabsRandomHelperDesc"/>
            <property name="SortOrder1" value="R202"/>
        </block>

    </insertAfter>

<!-- *** Respawners -->

    <!-- Bird Nest Respawner
                - Harvest nest -> Grass 'seed'\re-spawn -> new nest
     -->
    <insertAfter xpath="/blocks/block[@name='cntBirdnestCorner']">

        <block name="rbtBirdNestRespawner">
            <property name="Extends" value="rbtTreeGrassRandomMaster"/>
            <property name="CreativeMode" value="Dev"/>
            <property name="DescriptionKey" value="rbtBirdNestRespawnerDesc"/>
            <property name="CustomIcon" value="cntBirdnest"/>
            <property name="PlantGrowing.Next" value="cntBirdnest"/>
            <property name="Texture" value="201,306,371,201,306,371"/>
            <property name="SortOrder1" value="R400"/>
            <property name="SortOrder2" value="9400"/>
        </block>

    </insertAfter>

    <!-- Boulder Respawner
                - Harvest boulder -> rock 'seed'\re-spawn -> new boulder
     -->
    <insertAfter xpath="/blocks/block[@name='oreShaleBoulder']">

        <block name="rbtBoulderRandomRespawner">
            <property name="Extends" value="rbtBoulderRandomMaster"/>
            <property name="CreativeMode" value="Dev"/>
            <property name="DescriptionKey" value="rbtBoulderRandomRespawnerDesc"/>
            <property name="CustomIcon" value="rock01"/>
            <property name="SortOrder1" value="R401"/>
            <property name="SortOrder2" value="9401"/>
        </block>

    </insertAfter>

<!-- ************************

     Here's where we 'hijack' the existing blocks to do our bidding.
     Remove/comment out below to remove what's not wanted

 ************************ -->

<!-- Tweak the boulders as we'd like
        - Insert the DowngradeBlock
 -->
    <append xpath="//block[@name='resourceRock01']">
        <property name="DowngradeBlock" value="rbtBoulderRandomRespawner"/>
        <property name="PassThroughDamage" value="false"/>
    </append>

<!-- Tweak the bird nests as we'd like
        - Insert the DowngradeBlock
 -->
    <append xpath="//block[@name='cntBirdnest']">
        <property name="DowngradeBlock" value="rbtBirdNestRespawner"/>
    </append>

</blocks>
